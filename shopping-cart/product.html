<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ShopEasy Product Details</title>
  <style>
    
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #181717;
      color: rgb(34, 34, 34);
    }

    /* Navbar */
    .navbar {
      background-color: #333;
      color: #fff;
      padding: 15px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .navbar a {
      color: #fff;
      text-decoration: none;
      font-size: 16px;
    }

    /* Main Product Container*/
    .product-details {
      display: flex;
      flex-wrap: wrap; 
      gap: 20px;
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }

    /* Main Content Area (Left Column) */
    .main-content {
      flex: 3; 
      min-width: 300px;
    }

    /* Sidebar (Right Column) */
    .sidebar {
      flex: 1.5; 
      min-width: 280px;
    }

    .card {
      background-color: #fff;
      border: 1px solid #e0e0e0;
      border-radius: 4px;
      padding: 20px;
      margin-bottom: 20px;
    }

    .card h3 {
      margin-top: 0;
      padding-bottom: 10px;
      border-bottom: 1px solid #f0f0f0;
    }
    
    .product-description p {
      line-height: 1.6;
      font-size: 14px;
    }

    .specifications-list {
      list-style-type: none;
      padding-left: 0;
      font-size: 14px;
    }
    .specifications-list li {
      padding: 8px 0;
      border-bottom: 1px solid #f5f5f5;
    }
    .specifications-list li::before {
      content: "•";
      color: #f68b1e; 
      font-weight: bold;
      display: inline-block;
      width: 1em;
      margin-left: -1em;
    }

    /* Sidebar "Buy Box" styling */
    .buy-box-product-info {
        display: flex;
        align-items: center;
        gap: 15px;
        border-bottom: 1px solid #f0f0f0;
        padding-bottom: 15px;
        margin-bottom: 15px;
    }
    .buy-box-product-info img {
        width: 60px;
        height: 60px;
        object-fit: cover;
        border: 1px solid #eee;
    }
    .buy-box-product-info .product-name {
        font-weight: bold;
        font-size: 16px;
    }
    .buy-box .price {
      font-size: 28px;
      font-weight: bold;
      margin: 15px 0;
      color: #000;
    }

    .add-btn {
      background-color: gold; 
      color: #fff;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 4px;
      padding: 15px;
      width: 100%;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }
    .add-btn:hover {
      opacity: 0.9;
    }
    
    .questions-box {
        text-align: center;
    }
    .chat-btn {
        background-color: #fff;
        color: #f68b1e;
        border: 1px solid gold;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        width: 100%;
    }
    .chat-btn:hover {
        background-color: #fef3e8;
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <a href="index.html">⬅ Back to Products</a>
    <a href="cart.html" class="cart-link">Cart (<span id="cart-count">0</span>)</a>
  </nav>

  <main class="product-details" id="product-detail">

    </main>

  <script>
    
    const products = JSON.parse(localStorage.getItem("products")) || [
      {
        id: "powerbanks", 
        name: "iPhone 14 Pro Max - 256GB - Purple", 
        price: 1450000, 
        category: "Phones", 
        img: "iPhone.jpeg", 
        description: "The best iPhone ever, version 2022, size XL - we have the iPhone 14 Pro Max. The list of novelties this year includes the notch morphing into a pill, the introduction of an Always-On display, and an all-new primary camera - and while you can get all of that on the 14 Pro, the extra screen estate and longevity coupled with the Max's 'ultimate' status mean it has a market niche of its own. A massive increase in brightness is also among the key developments this year, this one solely in the hardware department. We encourage you to re-use your current USB-A to lightning cables, power adapters and headphones that are compatible with these iPhone models. But if you need any new Apple power adapters or headphones, they are available for purchase.",
        specifications: [
          "Screen Size: 6.7-inch Display",
          "Sim Type: Single Sim",
          "Ram: 6GB RAM",
          "Internal Memory: 256GB ROM",
          "Operating System: iOS 16",
          "Rear Camera: 48MP + 12MP + 12MP",
          "Front Camera: 12MP",
          "5G Network: Yes",
          "Battery Capacity: Li-Ion 4323 mAh, non-removable"
        ]
      },
      { id: 1, name: "Smart Watch", price: 85000, category: "Watches", img: "smartwatch.jpg", description: "A stylish smart watch.", specifications: ["1.4-inch Display", "Heart Rate Monitor", "5-day Battery Life"] },
      { id: 3, name: "Gaming Laptop", price: 85000, category: "Gaming", img: "laptops.jpg", description: "A stylish smart watch.", specifications: ["1.4-inch Display", "Heart Rate Monitor", "5-day Battery Life"] },
      { id: 4, name: "Space Buds", price: 85000, category: "Accessories", img: "spaceBuds.jpg", description: "A stylish smart watch.", specifications: ["1.4-inch Display", "Heart Rate Monitor", "5-day Battery Life"] },
      { id: 5, name: "Zealot BlueTooth Speaker", price: 85000, category: "Accessories", img: "speaker.jpg", description: "A stylish smart watch.", specifications: ["1.4-inch Display", "Heart Rate Monitor", "5-day Battery Life"] },
    ];
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    function getProduct() {
      const params = new URLSearchParams(window.location.search);
      // Let's default to product ID 1 if none is specified in URL
      const id = parseInt(params.get("id")) || 1; 
      const product = products.find(p => p.id === id);

      if (product) {
        // Generate the list of specifications
        const specsHTML = product.specifications.map(spec => `<li>${spec}</li>`).join('');

        // Inject the new two-column HTML structure
        document.getElementById("product-detail").innerHTML = `
          <div class="main-content">
            <div class="card product-description">
              <h3>Product details</h3>
              <p>${product.description}</p>
            </div>
            <div class="card product-specifications">
              <h3>Specifications</h3>
              <ul class="specifications-list">
                ${specsHTML}
              </ul>
            </div>
          </div>

          <div class="sidebar">
            <div class="card buy-box">
              <div class="buy-box-product-info">
                  <img src="${product.img}" alt="${product.name}">
                  <div class="product-name">${product.name}</div>
              </div>
              <p class="price">₦${product.price.toLocaleString()}</p>
              <button class="add-btn" onclick="addToCart(${product.id})">
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-cart3" viewBox="0 0 16 16">
                    <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                  </svg>
                Add to Cart
              </button>
            </div>
            <div class="card questions-box">
                <p>Questions about this product?</p>
                <button class="chat-btn">CHAT</button>
            </div>
          </div>
        `;
      }
      updateCartCount();
    }

    function addToCart(id) {
      const product = products.find(p => p.id === id);
      const existing = cart.find(item => item.id === id);

      if (existing) existing.qty += 1;
      else cart.push({ ...product, qty: 1 });

      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartCount();
      alert(product.name + " added to cart!");
    }

    function updateCartCount() {
      document.getElementById("cart-count").textContent = cart.reduce((sum, item) => sum + item.qty, 0);
    }

    getProduct();
  </script>
</body>
</html>